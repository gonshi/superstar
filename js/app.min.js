!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d,e,f,g,h,i=function(a,b){function c(){this.constructor=a}for(var d in b)j.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},j={}.hasOwnProperty;d=a("../util/eventDispatcher"),f=a("../util/throttle"),h=null,e=function(a){function b(){b.__super__.constructor.call(this)}return i(b,a),b.prototype.exec=function(){var a;return a=new f(500),$(window).on("resize",function(b){return function(){return a.last(function(){return b.dispatch("RESIZED",b)})}}(this))},b.prototype.off=function(){return $(window).off("resize")},b}(d),g=function(){return h||(h=new e),h},b.exports=g},{"../util/eventDispatcher":4,"../util/throttle":6}],2:[function(a,b,c){/*!
  *
  * VelocityJS.org (1.2.2). (C) 2014 Julian Shapiro.
  * MIT @license: en.wikipedia.org/wiki/MIT_License
  * VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation.
  * MIT @license: en.wikipedia.org/wiki/MIT_License.
  *
 */
/*!
  *
  * Main Function
  *
 */
var d,e,f,g,h;window._DEBUG?null!=Object.freeze?window.DEBUG=Object.freeze(window._DEBUG):window.DEBUG={state:!0}:null!=Object.freeze?window.DEBUG=Object.freeze({state:!1}):window.DEBUG={state:!1},a("../js/velocity.min.js"),h=a("./util/social")(),e=a("./model/episodeData")(),g=a("./view/search")(),d=a("./view/bg")(),f=a("./controller/resizeHandler")(),window.DUR=500,window.EASE_IN_BACK=[.6,-.28,.735,.045],window.EASE_OUT_BACK=[.175,.885,.32,1.275],window.EASE_IN_OUT_BACK=[.68,-.55,.265,1.55],window.ENTER_KEY=13,window.path="./",$(function(){var a,b,c,i,j,k,l,m,n,o;return j=$(window),k=$(".wrapper"),c=$(".lock"),i=$(".password_container"),b=i.find(".password"),a=i.find(".enter"),n=!1,o=function(){var a;return a=CryptoJS.SHA256(b.val()),"a40a253fff002b6a8b08e9668c151b4a7696204765d57afb7f294e0248d56395"===a.toString()?c.velocity({opacity:[0,1]},function(){return c.hide()}):i.velocity({translateX:[5,0]},DUR/10).velocity({translateX:[-5,5]},DUR/10).velocity({translateX:[5,-5]},DUR/10).velocity({translateX:[0,5]},DUR/10)},b.one("focus",function(){return b.attr({type:"password"}).val("")}),a.on("click",function(){return o()}),$(window).on("keydown",function(a){return a.keyCode===ENTER_KEY?o():void 0}),e.listen("GOT_DATA",function(a){return g.setEpisode(a),d.setPortrait(a)}),d.listen("LOAD_IMG",function(a,b){return g.setPortrait(a,b)}),m=!0,f.listen("RESIZED",function(){var a,b,c,e;if(m)return m=!1,b=j.width(),a=j.height(),e=k.width(),c=k.height(),g.setWinSize(b,a),d.setSize(e,c),d.arragePortrait()}),d.listen("PORTRAIT_CLICKED",function(a,b){return g.showResult(a,b)}),d.listen("PORTRAIT_COUNTED",function(a){return g.setPortraitMax(a)}),g.listen("FIN_INTRO",function(){return n=!1,d.finIntro()}),g.listen("PLAY_VIDEO",function(){return $(l).animate({volume:0},2*DUR,function(){return l.pause()})}),$(".affirmModal_btn").one("click",function(a){return $(a.target).hasClass("affirmModal_on")&&l.play(),$(".affirmModal").velocity({opacity:[0,1]},DUR,function(){return $(".affirmModal").hide(),g.showIntro()})}),location.search.match("skip")?window.skip=!0:window.skip=!1,h.exec("fb","tweet"),f.dispatch("RESIZED"),f.exec(),g.exec(),e.getData(),l=new Audio,isSp?l.src="audio/superstar_sp.mp3":l.src="audio/superstar.mp3",n=!0,window.DEBUG.state?c.velocity({opacity:[0,1]},function(){return c.hide()}):void 0})},{"../js/velocity.min.js":10,"./controller/resizeHandler":1,"./model/episodeData":3,"./util/social":5,"./view/bg":8,"./view/search":9}],3:[function(a,b,c){var d,e,f,g,h,i=function(a,b){function c(){this.constructor=a}for(var d in b)j.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},j={}.hasOwnProperty;e=a("../util/eventDispatcher"),h=null,f=0,d=function(a){function b(){b.__super__.constructor.call(this),this.episode={},this.ageExp=/年齢: (.*?),/,this.titleExp=/肩書: (.*?),/,this.episodeExp=/一言エピソード: (.*?),/,this.birthExp=/生年: (.*?),/,this.portraitLinkExp=/画像リンク: (.*?),/,this.publicDomainExp=/パブリックドメイン: (.*?),/,this.portraitExp=/画像: (.*?)$/,this.END_PHRASE="以下未記述欄",window.gdata={},window.gdata.io={},window.gdata.io.handleScriptLoaded=function(a){return function(b){var c,d,e,f,g,h,i,j;for(d=b.feed.entry.length,h=i=0,j=d;(j>=0?j>i:i>j)&&(b.feed.entry[h].content.$t=b.feed.entry[h].content.$t.replace(/\n/g,""),b.feed.entry[h].title.$t!==a.END_PHRASE);h=j>=0?++i:--i)c=b.feed.entry[h].content.$t.match(a.ageExp)[1],f=b.feed.entry[h].content.$t.match(a.portraitExp)[1],"なし"!==f?(e=path+"img/portrait/"+f+".png",g=b.feed.entry[h].content.$t.match(a.portraitLinkExp)[1]):(e="",g=""),null==a.episode[c]&&(a.episode[c]=[]),a.episode[c].push({id:a.episode[c].length,name:b.feed.entry[h].title.$t,title:b.feed.entry[h].content.$t.match(a.titleExp)[1],episode:b.feed.entry[h].content.$t.match(a.episodeExp)[1],birth:b.feed.entry[h].content.$t.match(a.birthExp)[1],portraitLink:g,portrait:e});return a.dispatch("GOT_DATA",a,a.episode)}}(this)}return i(b,a),b.prototype.getData=function(){return this.src="https://spreadsheets.google.com/feeds/list/1ThmwlEue4zVhhlFMw7BsQd2Acpiv4Z4Uxz-5oYUlkaM/od6/public/basic?alt=json-in-script",$("head").append($("<script>").attr({src:this.src}))},b}(e),g=function(){return h||(h=new d),h},b.exports=g},{"../util/eventDispatcher":4}],4:[function(a,b,c){var d,e=[].slice;d=function(){function a(){this.listeners={},this.dispatched={}}return a.prototype.listen=function(a,b){return null!=this.listeners[a]?this.listeners[a].push(b):this.listeners[a]=[b]},a.prototype.dispatch=function(){var a,b,c,d,f,g,h,i;if(b=arguments[0],g=arguments[1],a=3<=arguments.length?e.call(arguments,2):[],this.listeners[b]){for(h=this.listeners[b],i=[],c=0,d=h.length;d>c;c++)f=h[c],i.push(f.apply(g||this,a));return i}},a.prototype.first=function(){var a,b,c,d,f,g,h,i;if(b=arguments[0],g=arguments[1],a=3<=arguments.length?e.call(arguments,2):[],this.listeners[b]&&null==this.dispatched[b]){for(this.dispatched[b]=!0,h=this.listeners[b],i=[],c=0,d=h.length;d>c;c++)f=h[c],i.push(f.apply(g||this,a));return i}},a.prototype.clear=function(a){return null!=a?this.listeners[a]=null:this.listeners={}},a}(),b.exports=d},{}],5:[function(a,b,c){var d,e,f;f=null,d=function(){function a(){}return a.prototype.exec=function(){var a,b,c,d,e,f,g,h,i,j;for(a={},c=f=0,h=arguments.length;h>=0?h>f:f>h;c=h>=0?++f:--f)a[arguments[c]]=!0;if(null!=a.fb){if(b=document.getElementsByTagName("script")[0],document.getElementById("facebook-jssdk"))return;e=document.createElement("script"),e.id="facebook-jssdk",e.src="//connect.facebook.net/ja_JP/sdk.js#xfbml=1&appId=940736769294726&version=v2.0",b.parentNode.insertBefore(e,b)}if(null!=a.tweet&&(window.twttr=function(){var a;return b=document.getElementsByTagName("script")[0],document.getElementById("twitter-wjs")?void 0:(e=document.createElement("script"),e.id="twitter-wjs",e.src="https://platform.twitter.com/widgets.js",b.parentNode.insertBefore(e,b),null!=window.twttr?window.twttr:a={_e:[],ready:function(b){return a._e.push(b)}})}()),null!=a.hatena&&(d=document.createElement("script"),d.type="text/javascript",d.src="https://b.st-hatena.com/js/bookmark_button.js",d.async="async",d.charset="utf-8",i=document.getElementsByTagName("script")[0],i.parentNode.insertBefore(d,i)),null!=a.pocket&&(document.getElementById("pocket-btn-js")||(d=document.createElement("script"),d.id="pocket-btn-js",d.type="text/javascript",d.src="https://widgets.getpocket.com/v1/j/btn.js?v=1",j=document.getElementById("pocket-btn-js"),document.body.appendChild(d))),null!=a.gplus&&(g=document.createElement("script"),g.type="text/javascript",g.async=!0,g.src="https://apis.google.com/js/plusone.js",i=document.getElementsByTagName("script")[0],i.parentNode.insertBefore(g,i)),null!=a.fb_share&&null==a.fb){if(b=document.getElementsByTagName("script")[0],document.getElementById("facebook-jssdk"))return;e=document.createElement("script"),e.id="facebook-jssdk",e.src="//connect.facebook.net/ja_JP/sdk.js#xfbml=1&appId=940736769294726&version=v2.0",b.parentNode.insertBefore(e,b)}return $(".facebook").on("click",function(a){return FB.ui({display:"popup",method:"feed",link:$(a.currentTarget).attr("data-url"),name:$(a.currentTarget).attr("data-name"),picture:$(a.currentTarget).attr("data-picture"),description:$(a.currentTarget).attr("data-description")})}),$(".tweet a").on("click",function(a){var b,c,d,e,f,g,h,i,j;return a.preventDefault(),null!=window.screenLeft?(b=window.screenLeft,c=window.screenTop):(b=window.screen.left,c=window.screen.top),"undefined"!=typeof innerWidth&&null!==innerWidth?(i=window.innerWidth,h=window.innerHeight):null!=(null!=(j=document.documentElement)?j.clientWidth:void 0)?(i=document.documentElement.clientWidth,i=document.documentElement.clientHeight):(i=window.screen.width,i=window.screen.height),f=650,e=450,d=0,g=0,window.open($(a.currentTarget).attr("href"),"twitter","width="+f+", height="+e+", "+("top="+g+", left="+d))})},a.prototype.callback=function(){var a;return window.twttr.ready(function(b){return b.events.bind("tweet",function(){return a("tw")})}),window.onload=function(){return window.FB.Event.subscribe("edge.create",function(b){return b?a("fb"):void 0})},a=function(a){return console.log(a)}},a}(),e=function(){return f||(f=new d),f},b.exports=e},{}],6:[function(a,b,c){var d;d=function(){function a(a){this.is_first=!0,this.interval=a,this.prevTime=0,this.timer=null}var b;return null!=(null!=(b=window.performance)?b.now:void 0)?window.getNow=function(){return window.performance.now()}:window.getNow=function(){return Date.now()},a.prototype.exec=function(a){var b,c;return c=window.getNow(),b=c-this.prevTime,clearTimeout(this.timer),b>=this.interval?(this.prevTime=c,a()):this.timer=setTimeout(function(){return a()},this.interval)},a.prototype.first=function(a){return this.is_first?(this.is_first=!1,a()):(clearTimeout(this.firstTimer),this.firstTimer=setTimeout(function(a){return function(){return a.is_first=!0}}(this),this.interval))},a.prototype.last=function(a){return clearTimeout(this.lastTimer),this.lastTimer=setTimeout(function(){return a()},this.interval)},a.prototype.triggerend=function(){return this.is_first=!0},a}(),b.exports=d},{}],7:[function(a,b,c){var d,e,f;f=null,d=function(){function a(){var a;this.listeners={},this.start={},(a=function(b){return function(){var c;for(c in b.listeners)b.listeners[c](window.getNow()-b.start[c]);return window.requestAnimFrame(a)}}(this))()}var b;return null!=(null!=(b=window.performance)?b.now:void 0)?window.getNow=function(){return window.performance.now()}:window.getNow=function(){return Date.now()},null!=window.requestAnimationFrame?window.requestAnimFrame=window.requestAnimationFrame:null!=window.webkitRequestAnimationFrame?window.requestAnimFrame=window.webkitRequestAnimationFrame:null!=window.mozRequestAnimationFrame?window.requestAnimFrame=window.mozRequestAnimationFrame:window.requestAnimFrame=function(a){return window.setTimeout(a,1e3/60)},a.prototype.listen=function(a,b){return this.start[a]=window.getNow(),this.listeners[a]=b},a.prototype.clear=function(a){return null!=a?(delete this.listeners[a],delete this.start[a]):(this.listeners={},this.start={})},a}(),e=function(){return f||(f=new d),f},b.exports=e},{}],8:[function(a,b,c){var d,e,f,g,h=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},i={}.hasOwnProperty;e=a("../util/eventDispatcher"),g=null,d=function(a){function b(){b.__super__.constructor.call(this),this.$wrapper=$(".wrapper"),this.$portrait_container=$(".portrait_container"),this.ROW_MAX=20,this.FOOTER_HEIGHT=145,this.PORTRAIT_HEIGHT=$(".portrait").height(),this.PORTRAIT_ROW_MARGIN=parseInt($(".portrait_row").css("margin-top")),this.mouseover_sound=new Audio,this.mouseover_sound.src="audio/mouseover.mp3",this.mouseover_sound.volume=.2,this.open_sound=new Audio,this.open_sound.src="audio/open.mp3",this.loaded_src={},this.is_intro=!0}return h(b,a),b.prototype.finIntro=function(){return this.is_intro=!1},b.prototype.imgLoaded=function(a){var b;return b=function(b){return function(){return b.is_intro?b.dispatch("LOAD_IMG",b,b.img[a].src,a):$(".portrait_pic_"+a).addClass("show"),b.portrait_shown_num+=1,null!==b.portrait_num&&b.portrait_shown_num===b.portrait_num?b.dispatch("FIN_ARRANGE"):void 0}}(this),setTimeout(function(c){return function(){return c.img[a].width>0?b():c.img[a].onload=function(){return b()}}}(this),100)},b.prototype.setPortrait=function(a){return this.data=a,this.arragePortrait()},b.prototype.arragePortrait=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;if(null!=this.data&&null!=this.wrapper_width){e=0,d=$("<div>").attr({"class":"portrait_row"}),c=[],k=Math.floor((this.wrapper_height-this.FOOTER_HEIGHT)/(this.PORTRAIT_HEIGHT+this.PORTRAIT_ROW_MARGIN)),i=0,h=[];for(m in this.data)i+=1,h.push(m);for(f=0,g=0,j=0,this.$portrait_container.empty(),this.portrait_shown_num=0,this.portrait_num=null,this.img=[];k>f;){for(n=o=0,q=this.data[h[g]].length;q>=0?q>o:o>q;n=q>=0?++o:--o)if(""!==this.data[h[g]][n].portrait&&(b=$("<p>").attr({"class":"portrait"}),a=$("<button>"),this.img.push(new Image),l=""+this.data[h[g]][n].portrait,this.img[this.img.length-1].setAttribute("data-age",h[g]),this.img[this.img.length-1].setAttribute("data-id",n),null!=this.loaded_src[l]?this.img[this.img.length-1].src=""+l:(this.img[this.img.length-1].src=""+l,this.loaded_src[l]=Date.now()),this.img[this.img.length-1].className+=" portrait_pic_"+(this.img.length-1),a.append(this.img[this.img.length-1]),b.append(a),c.push(b.clone()),b.appendTo(d),e+=1,e===this.ROW_MAX)){for(e=0,m=p=0,r=this.ROW_MAX;r>=0?r>p:p>r;m=r>=0?++p:--p)c[m].appendTo(d),this.imgLoaded(this.img.length-1-m);c=[],d.appendTo(this.$portrait_container),d.css({width:b.outerWidth(!0)*this.ROW_MAX*2}),d.addClass("anim"),d=$("<div>").attr({"class":"portrait_row"}),f+=1}g+=1,g===i&&(g=0)}return this.portrait_num=this.$portrait_container.find(".portrait").size(),this.dispatch("PORTRAIT_COUNTED",this,this.portrait_num),this.$portrait_container.css({marginTop:(this.wrapper_height-this.FOOTER_HEIGHT-this.$portrait_container.height())/2}),this.$portrait=this.$portrait_container.find(".portrait"),this.$portrait.on("click",function(a){return function(b){return a.open_sound.currentTime=0,isSp||a.open_sound.play(),a.dispatch("PORTRAIT_CLICKED",a,$(b.currentTarget).find("img").attr("data-age"),$(b.currentTarget).find("img").attr("data-id"))}}(this)),this.$portrait.on("mouseenter",function(a){return function(){return a.mouseover_sound.currentTime=0,isSp?void 0:a.mouseover_sound.play()}}(this))}},b.prototype.setSize=function(a,b){return this.wrapper_width=a,this.wrapper_height=b},b}(e),f=function(){return g||(g=new d),g},b.exports=f},{"../util/eventDispatcher":4}],9:[function(a,b,c){var d,e,f,g,h,i=function(a,b){function c(){this.constructor=a}for(var d in b)j.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},j={}.hasOwnProperty;d=a("../util/eventDispatcher"),h=a("../util/ticker")(),g=null,e=function(a){function b(){var a,c,d,e,f,g,h,i;b.__super__.constructor.call(this),this.$win=$(window),this.$search_container=$(".search_container"),this.$search=this.$search_container.find(".search"),this.$enter=this.$search_container.find(".enter"),this.$result_container=$(".result_container"),this.$result=this.$result_container.find(".result"),this.$portrait=this.$result.find(".portrait"),this.$name=this.$result.find(".name"),this.$episode=this.$result.find(".episode"),this.$age_num=this.$result.find(".age_container .num"),this.$portrait_name=this.$result.find(".portrait_name"),this.$portrait_title=this.$result.find(".portrait_title"),this.$link=this.$result.find(".link"),this.$tweet_a=this.$result.find(".tweet a"),this.$facebook=this.$result.find(".facebook"),this.$year_container=$(".year_container"),this.$year_bar=$(".year_bar"),this.$year=this.$year_container.find(".year"),this.$pin=this.$year_container.find(".pin"),this.YEAR_WIDTH=parseInt(this.$year.eq(1).css("left"))/10,this.PIN_WIDTH=parseInt(this.$pin.width()),this.$portrait_container=$(".portrait_container"),this.is_diffusing=!1,this.portrait_loaded=[],this.cur_year_left=0,this.RESULT_PADDING_HEIGHT=isSp?390:269,this.ESCAPE_KEYCODE=27,this.WIKI_LINK_ORIGIN="https://ja.wikipedia.org/wiki/",this.win_width=null,this.$illust_container=$(".illust_container"),this.$aboutBtn=$(".aboutBtn"),this.$about_container=$(".about_container"),this.$room=$(".room"),this.room_canvas=this.$room.get(0),this.room_ctx=this.room_canvas.getContext("2d"),this.light_grad=new Image,this.light_grad.src="img/illust/light_grad.png",this.$social_container_illust=$(".social_container-illust"),this.$superstarPage=$(".superstarPage"),this.ILLUST_NAME={wright:"ウィルバー・ライト",columbus:"コロンブス",oh:"王貞治",newton:"ニュートン",beethoven:"ベートーベン",zuckerberg:"マーク・ザッカーバーグ",jack:"ジャック・ドーシー",bolt:"ウサインボルト",michael:"マイケル・ジャクソン",edison:"エジソン"},this.ILLUST_AGE={michael:26,edison:32},this.ILLUST_NAME_ARR=[],c=["zuckerberg","jack"];for(f in this.ILLUST_NAME){for(d=!0,g=h=0,i=c.length;i>=0?i>h:h>i;g=i>=0?++h:--h)if(f===c[g]){d=!1;break}d&&this.ILLUST_NAME_ARR.push(f)}this.roulette_sound=new Audio,this.roulette_sound.src="audio/roulette.mp3",this.open_sound=new Audio,this.open_sound.src="audio/open.mp3",this.close_sound=new Audio,this.close_sound.src="audio/close.mp3",this.loaded_portrait_num=0,this.oh_sound=new Audio,this.oh_sound.src="audio/oh.mp3",this.beethoven_sound=new Audio,this.beethoven_sound.src="audio/beethoven.mp3",this.wright_sound=new Audio,this.wright_sound.src="audio/wright.mp3",this.step_sound=new Audio,this.step_sound.src="audio/step.mp3",this.fall_sound=new Audio,this.fall_sound.src="audio/fall.mp3",this.cheer_sound=new Audio,this.cheer_sound.src="audio/cheer.mp3",e=document.createElement("script"),a=document.querySelector("script"),e.src="https://www.youtube.com/iframe_api",a.parentNode.insertBefore(e,a)}return i(b,a),b.prototype.animIllust=function(a){var b,c,d,e,f,g,i,j,k;for(g=i=0,k=this.ILLUST_NAME_ARR.length;k>=0?k>i:i>k;g=k>=0?++i:--i)if(this.ILLUST_NAME_ARR[g]===a){this.ILLUST_NAME_ARR.splice(g,1);break}switch(this.$anim_illust=this.$illust_container.find(".illust-"+a),a){case"wright":return this.$anim_illust.show().velocity({translateX:[-this.$win.width()-1e3,0],translateY:[300,0]},7*DUR,"easeInSine",function(b){return function(){return b.showResultByName(a)}}(this));case"columbus":return this.$anim_illust.show().removeClass("break").velocity({translateY:[this.$win.height()-this.$year_container.height()+80,0]},2*DUR,"easeInCubic",function(a){return function(){return a.$anim_illust.addClass("break").velocity({translateY:a.$win.height()-a.$year_container.height()+60},30).velocity({translateY:a.$win.height()-a.$year_container.height()+57},30).velocity({translateY:a.$win.height()-a.$year_container.height()+63},10).velocity({translateY:a.$win.height()-a.$year_container.height()+60},10)}}(this)),setTimeout(function(b){return function(){return b.showResultByName(a)}}(this),4*DUR);case"oh":return this.$anim_illust.show().velocity({translateX:[this.$win.width()+1e3,0],translateY:[-this.$win.height()+this.$year_container.height(),0],rotateZ:[-720,0]},4*DUR,"easeOutSine"),setTimeout(function(b){return function(){return b.showResultByName(a)}}(this),2*DUR);case"newton":return this.$anim_illust.show().removeClass("fall"),this.$anim_illust.find(".illust-newton_tree").show(),e=1,f=setInterval(function(b){return function(){return 5>e?b.$anim_illust.find(".illust-newton_chara_container").attr({"data-id":e%2+1}).css({left:-50+100*e}):5===e&&b.$anim_illust.find(".illust-newton_chara_container").attr({"data-id":3}),7===e&&(clearInterval(f),b.$anim_illust.addClass("fall"),setTimeout(function(){return b.showResultByName(a)},4*DUR)),e+=1}}(this),400);case"beethoven":for(this.beethoven_sound.volume=0,$(this.beethoven_sound).animate({volume:1},4*DUR),this.$anim_illust.show(),g=j=0;4>j;g=++j)this.$anim_illust.find(".illust-beethoven_tone").eq(g).velocity({translateX:[-this.$win.width()-1e3,0]},{queue:!1,duration:12*DUR,easing:"linear"}),this.$anim_illust.find(".illust-beethoven_tone").eq(g).velocity({translateY:30+50*Math.random()},{duration:DUR+Math.random()*DUR*2,loop:!0,easing:"linear"});return setTimeout(function(b){return function(){var c;for(g=c=0;4>c;g=++c)b.$anim_illust.find(".illust-beethoven_tone").eq(g).velocity("stop",!0);return $(b.beethoven_sound).animate({volume:0},4*DUR,function(){return b.beethoven_sound.pause()}),b.showResultByName(a)}}(this),12*DUR);case"zuckerberg":return this.$anim_illust.show().velocity({translateX:[-200,0]},DUR,function(b){return function(){return setTimeout(function(){return b.showResultByName(a)},2*DUR)}}(this));case"jack":return this.$anim_illust.show().velocity({translateX:[-200,0]},DUR,function(b){return function(){return setTimeout(function(){return b.showResultByName(a)},2*DUR)}}(this));case"bolt":return this.$anim_illust.show().velocity({opacity:1},DUR),c=this.$anim_illust.find(".illust-bolt_timer"),b=this.$anim_illust.find(".illust-bolt_pic"),h.listen("BOLT_TIMER",function(a){var b;return b=Math.floor((a+5800)/10),b>=958?(c.text("09:58"),h.clear("BOLT_TIMER")):(b=("00"+b).slice(-4),c.text((""+b).slice(0,2)+":"+(""+b).slice(2,4)))}),setTimeout(function(c){return function(){var d;return d=1,c.bolt_anim=setInterval(function(){return b.attr({"data-id":d++%15+1})},30),b.velocity({translateX:[c.$win.width()+600,0]},3*DUR,"linear",function(){return clearInterval(c.bolt_anim),c.showResultByName(a)})}}(this),2500);case"michael":return d=1,this.michael_anim=setInterval(function(a){return function(){return a.$anim_illust.attr({"data-id":d++%7+1})}}(this),150),this.$anim_illust.velocity({translateX:[this.$win.width()+600,0]},8*DUR,"linear",function(b){return function(){return clearInterval(b.michael_anim),b.showResultByName(a)}}(this));case"edison":return this.room_canvas.width=this.win_width,this.room_canvas.height=this.win_height,this.room_ctx.fillRect(0,0,this.room_canvas.width,this.room_canvas.height),this.$anim_illust.show(),this.$room.show().velocity({opacity:1},DUR,function(b){return function(){return b.$anim_illust.find(".illust-edison-off").velocity({opacity:1,translateY:[0,100]},{duration:DUR,delay:2*DUR,complete:function(){var c,d;return d=2*DUR,c=2*DUR,h.listen("LIGHT_BLUR",function(e){var f;return f=e-c,0>f?void 0:(b.room_ctx.globalCompositeOperation="source-over",b.room_ctx.fillRect(0,0,b.room_canvas.width,b.room_canvas.height),b.room_ctx.globalCompositeOperation="xor",b.room_ctx.globalAlpha=f/d,b.room_ctx.drawImage(b.light_grad,(b.room_canvas.width-b.light_grad.width)/2,(b.room_canvas.height-b.light_grad.height)/2),b.$anim_illust.find(".illust-edison-on").css({opacity:f/d}),f>=d?(h.clear("LIGHT_BLUR"),setTimeout(function(){return b.showResultByName(a),b.$room.one("click",function(){return b.$room.velocity({opacity:0},function(){return b.$room.hide()}),b.closeResult()})},3*DUR)):void 0)})}})}}(this))}},b.prototype.diffusePortrait=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;for(d=0,i=this.$result.get(0).getBoundingClientRect(),h=this.$portrait_container.find(".portrait_row").width(),f=[],k=l=0,n=this.$portrait.find("img").size();n>=0?n>l:l>n;k=n>=0?++l:--l)f.push(k);for(p=[],k=m=0,o=a;o>=0?o>m:m>o;k=o>=0?++m:--m)e=Math.floor(Math.random()*f.length),b=this.$portrait.find("img").eq(f[e]),g=b.attr("data-id"),f.splice(e,1),c=this.$portrait_container.find(".portrait_pic_"+g+".selected").size(),j=this.$portrait_container.find(".portrait_pic_"+g).get(c),j.className+=" selected",p.push(function(b){return function(c,e){var f,g,j,l,m,n;return skip?(g=10,f=0):(g=6*DUR,f=10*k),n=$(e).parents(".portrait_row").index()%2===0?-1:1,j=e.getBoundingClientRect().left+h/2/150*((g+f)/1e3)*n,m=e.getBoundingClientRect().top,l=j+e.offsetWidth>i.left&&j<i.right&&m+e.offsetHeight>i.top&&m<i.bottom?.02:.2,isSp?(c.css({position:"fixed",top:m,left:j,width:e.offsetWidth,height:e.offsetHeight}),$(e).velocity({opacity:[1,0]},g,function(){return c.remove(),$(e).removeAttr("style"),e.className+=" show",b.is_diffusing=!1})):(c.css({position:"fixed",top:c.get(0).getBoundingClientRect().top,left:c.get(0).getBoundingClientRect().left,width:c.width(),height:c.height()}).velocity({left:j,width:e.offsetWidth,height:e.offsetHeight,opacity:[l,0]},{duration:g,delay:f,easing:EASE_OUT_BACK,complete:function(){return c.remove(),skip&&(e.className+=" transition"),e.className+=" show",++d===a?b.is_diffusing=!1:void 0}}),c.velocity({top:m},{duration:g,delay:f,easing:"easeOutSine",queue:!1}))}}(this)(b,j));return p},b.prototype.setEpisode=function(a){return this.episode=a,this.origin_episode=$.extend(!0,{},a)},b.prototype.setPortrait=function(a,b){var c,d,e,f;if(a){for(c=new Image,c.src=a,c.setAttribute("data-id",b),f=[],d=e=0;2>e;d=++e)this.$portrait.append($(c).clone()),this.loaded_portrait_num+=1,this.loaded_portrait_num===Math.floor(this.PORTRAIT_MAX/3)?f.push(this.portrait_loaded[0]=!0):this.loaded_portrait_num===2*Math.floor(this.PORTRAIT_MAX/3)?f.push(this.portrait_loaded[1]=!0):this.loaded_portrait_num===this.PORTRAIT_MAX?f.push(this.portrait_loaded[2]=!0):f.push(void 0);return f}},b.prototype.dropPin=function(a){var b;return this.$pin.css({left:this.YEAR_WIDTH*a-this.PIN_WIDTH/2,opacity:0}),b=this.win_width/2-this.$pin.get(0).getBoundingClientRect().left+this.cur_year_left,this.$year_bar.velocity({translateX:b},2*DUR,function(a){return function(){return a.cur_year_left=b,a.$pin.velocity({opacity:[1,0],translateY:[0,-20]},DUR,[200,10],function(){return a.$result_container.removeClass("is_animating")})}}(this))},b.prototype.search=function(a){return this.search_interval?void 0:(this.open_sound.currentTime=0,isSp||this.open_sound.play(),a=a.replace(/[Ａ-Ｚａ-ｚ０-９]/g,function(a){return String.fromCharCode(a.charCodeAt(0)-65248)}),a=parseInt(a),this.search_interval=setInterval(function(b){return function(){var c;return null!=b.episode?(clearInterval(b.search_interval),b.search_interval=null,null==b.episode[a]?void b.showResult(0,0,!0):(c=Math.floor(Math.random()*b.episode[a].length),b.showResult(a,b.episode[a][c].id))):void 0}}(this),200))},b.prototype.setPortraitMax=function(a){return this.PORTRAIT_MAX=a},b.prototype.showIntro=function(){return this.$result_container.removeClass("withoutPortrait").addClass("is_animating"),this.$name.text("ここに出てくる偉人はみんな"),this.$name.css({fontSize:28}),this.$result.find(".name_particle").hide(),this.$result_container.show().velocity({opacity:[1,0]},DUR,function(a){return function(){return a.$result_container.removeClass("is_animating")}}(this)),this.$result.css({opacity:1}),isSp?this.$result.css({height:this.$result.find(".info").height()+120}):this.$result.css({height:this.$result.find(".info").height()+this.RESULT_PADDING_HEIGHT}),h.listen("TIMER_FROM_START",function(a){return function(b){var c,d,e,f;for(d=skip?10:DUR,e=f=0;3>f;e=++f)if(b>16*d*e&&a.portrait_loaded[e]){if(a.is_diffusing||1===e&&null!==a.portrait_loaded[0]||2===e&&null!==a.portrait_loaded[1])return;switch(c=2===e?a.PORTRAIT_MAX-2*Math.floor(1*a.PORTRAIT_MAX/3):Math.floor(1*a.PORTRAIT_MAX/3),a.portrait_loaded[e]=null,a.$age_num.text(e),e){case 0:a.$episode.text("初めて泣いた。");break;case 1:a.$episode.text("歩き始めた。");break;case 2:a.$episode.text("笑った。"),h.clear("TIMER_FROM_START")}a.$result.find(".skip").show(),a.$result.find(".info").velocity({opacity:1},2*d),a.is_diffusing=!0,function(b){return setTimeout(function(){return a.diffusePortrait(c),a.$result.find(".info").velocity({opacity:0},{duration:2*d,delay:2*d})},6*d),2===b?setTimeout(function(){var b,c,e;return a.$result_container.find(".skip").hide(),a.$result.velocity({backgroundColorAlpha:0,borderColorAlpha:0},d),isSp?(e=490,c=35,b=0):(e=460,c=95,b=30),a.$result.find(".logo").velocity({width:e,height:300*e/580,right:c,bottom:b},{duration:2*d,delay:3*d,easing:EASE_IN_BACK,complete:function(){return a.$result.find(".logo-superstar").show().velocity({translateX:[0,-5],opacity:[1,0]},{duration:2*d,delay:4*d,complete:function(){return a.$result.find(".logo-superstar").velocity({opacity:[0,1]},{duration:d,delay:4*d,complete:function(){return a.$result.find(".logo-superstar").hide()}})}}),a.$result.find(".logo").velocity({opacity:0,translateY:-120},{duration:d,delay:10*d,easing:EASE_IN_BACK,complete:function(){return a.$result_container.velocity({opacity:[0,1]},3*d,function(){return a.$result_container.hide(),a.$result.removeAttr("style"),a.$result.find(".info").removeAttr("style"),a.$result.find(".logo").removeAttr("style"),a.$result.find(".name_particle").show(),a.$result.find(".social_container").show(),a.$result.find(".close_container").show(),a.$result.find(".portrait_txt").css({opacity:1}),a.$social_container_illust.show(),a.$aboutBtn.show(),a.$social_container_illust.find(".facebook").one("click",function(){return"block"===a.$result_container.css("display")&&a.closeResult(),a.animIllust("zuckerberg")}),a.$social_container_illust.find(".tweet").one("click",function(){return"block"===a.$result_container.css("display")&&a.closeResult(),a.animIllust("jack")}),a.dispatch("FIN_INTRO"),a.fin_intro=!0}),a.showSearchBar()}})}})},12*d):void 0}(e)}}}(this))},b.prototype.showResultByName=function(a){var b,c,d,e;for(b in this.episode)if(null==this.ILLUST_AGE[a]||parseInt(b)===this.ILLUST_AGE[a])for(c=d=0,e=this.episode[b].length;e>=0?e>d:d>e;c=e>=0?++d:--d)if(this.episode[b][c].name===this.ILLUST_NAME[a])return void this.showResult(b,this.episode[b][c].id)},b.prototype.showResult=function(a,b,c){var d,e,f,g,i,j;if(1===parseInt(this.$search_container.css("opacity"))&&(null!=this.anim_timer&&clearTimeout(this.anim_timer),"block"!==this.$result_container.css("display"))){for(e=this.origin_episode[a][b],g=i=0,j=this.ILLUST_NAME_ARR.length;j>=0?j>i:i>j;g=j>=0?++i:--i)if(e.name===this.ILLUST_NAME[this.ILLUST_NAME_ARR[g]]&&null==this.ILLUST_AGE[e.name]||this.ILLUST_AGE[e.name]===parseInt(a))return void this.animIllust(this.ILLUST_NAME_ARR[g]);return this.$result_container.removeClass("withoutPortrait").addClass("is_animating"),null!=c&&this.$result_container.addClass("nobody"),this.$name.text(e.name),this.$portrait_name.text(e.name),this.$episode.html(e.episode),this.$age_num.text(a),this.$portrait_title.text(e.title),this.$link.find("a").attr({href:""+this.WIKI_LINK_ORIGIN+encodeURIComponent(e.name)}),f=encodeURIComponent(this.$result.find(".info").text().replace(/\n| |　/g,"")+" - "+this.$tweet_a.attr("data-title")),this.$tweet_a.attr({href:"http://twitter.com/share?url="+this.$tweet_a.attr("data-url")+("&text="+f)}),this.$facebook.attr({"data-name":this.$result.find(".info").text().replace(/\n| |　/g,"")}),this.$age_num.text("0"),e.name.length>11?this.$name.css({fontSize:28}):e.name.length>10?this.$name.css({fontSize:32}):this.$name.css({fontSize:36}),this.$result.css({opacity:1,backgroundColorAlpha:1,borderColorAlpha:1}),this.$result.find(".info").velocity("finish").velocity({opacity:1}),this.$result.find(".portrait").show(),e.portrait.length>0?(d=new Image,d.src=e.portrait,d.style.opacity=1,this.$portrait.find("a").attr({href:e.portraitLink}).empty().append(d)):this.$result_container.addClass("withoutPortrait"),this.$result_container.show().velocity({opacity:[1,0]},DUR,function(b){return function(){return"不明"!==e.birth?b.dropPin(parseInt(a)+parseInt(e.birth)):b.$result_container.removeClass("is_animating"),b.roulette_sound.volume=.2,isSp||b.roulette_sound.play(),h.listen("AGE_COUNTUP",function(c){var d;return d=Math.floor(c/30),d>a?(h.clear("AGE_COUNTUP"),$(b.roulette_sound).animate({volume:0},100,function(){return b.roulette_sound.pause(),b.roulette_sound.currentTime=0}),b.$age_num.text(a)):b.$age_num.text(d)})}}(this)),this.$result_container.hasClass("withoutPortrait")?this.$result.css({height:this.$result.find(".info").height()+this.RESULT_PADDING_HEIGHT-80}):this.$result_container.hasClass("nobody")?this.$result.css({height:this.$result.find(".info").height()+this.RESULT_PADDING_HEIGHT+120}):this.$result.css({height:this.$result.find(".info").height()+this.RESULT_PADDING_HEIGHT}),this.episode[a].splice(b,1),0===this.episode[a].length&&(this.episode[a]=$.extend(!0,[],this.origin_episode[a])),this.$result_container.hasClass("nobody")?void 0:setTimeout(function(a){return function(){return a.showSuperStarSign()}}(this),4e3)}},b.prototype.showSuperStarSign=function(){return this.$superstarPage.show().velocity({opacity:[1,0]},DUR),this.$superstarPage.find(".superstarSign").show().velocity({opacity:[1,0]},{delay:2*DUR,duration:4*DUR,mobileHA:!1,complete:function(a){return function(){return a.$superstarPage.find(".superstarSign").velocity({opacity:[0,1]},{delay:4*DUR,duration:4*DUR,mobileHA:!1,complete:function(){return a.$superstarPage.find(".superstarSign").hide(),a.showSuperStarMovie()}})}}(this)})},b.prototype.showSuperStarMovie=function(){return this.$movie=$("#movie"),isSp||this.dispatch("PLAY_VIDEO"),this.movie_player=new YT.Player("movie",{width:this.$movie.attr("width"),height:this.$movie.attr("height"),videoId:this.$movie.attr("data-youtube-id"),playerVars:{rel:0,modestbranding:1,wmode:"opaque"},
events:{onReady:function(a){return function(){return a.$movie=$("#movie"),a.$movie.show().velocity({opacity:[1,0]},DUR,function(){return isSp?a.showSuperStarLinks():a.movie_player.playVideo()})}}(this),onStateChange:function(a){return function(b){return b.data===YT.PlayerState.PLAYING&&isSp?a.dispatch("PLAY_VIDEO"):b.data!==YT.PlayerState.ENDED||isSp?void 0:a.$movie.velocity({opacity:[0,1]},DUR,function(){return a.$movie.hide(),a.showSuperStarLinks()})}}(this)}})},b.prototype.showSuperStarLinks=function(){return this.$superstarPage.find(".superstarLink_container").show().velocity({opacity:[1,0]},{duration:DUR,mobileHA:!1})},b.prototype.closeResult=function(){return this.$result_container.hasClass("nobody")&&null!=this.fin_intro?(this.close_sound.currentTime=0,isSp||this.close_sound.play(),this.$pin.velocity({opacity:[0,1]},DUR),null!=this.$anim_illust&&this.$anim_illust.hide(),this.$result_container.velocity({opacity:[0,1]},DUR,function(a){return function(){return a.$result_container.removeClass("nobody").hide()}}(this))):void 0},b.prototype.setWinSize=function(a,b){return this.win_width=a,this.win_height=b},b.prototype.showSearchBar=function(){var a;if(0===parseInt(this.$search_container.css("opacity")))return a=isSp?[1.5,1.5]:[1,1],this.$search_container.velocity({translateY:[0,-20],scale:a,opacity:[1,0]},{duration:3*DUR,mobileHA:!1})},b.prototype.exec=function(){return this.$search.one("click",function(a){return function(){return a.$search.val("").addClass("on")}}(this)),this.$result_container.on("click",function(a){return function(b){return a.$result_container.hasClass("is_animating")?void 0:$(b.target).hasClass("close")?a.closeResult():void 0}}(this)),this.$win.on("keydown",function(a){return function(b){return a.$result_container.hasClass("is_animating")?void 0:b.keyCode===a.ESCAPE_KEYCODE?a.closeResult():void 0}}(this)),this.$enter.on("click",function(a){return function(){return a.search(a.$search.val())}}(this)),this.$result_container.find(".skip").one("click",function(a){return function(){return window.skip=!0,a.$result_container.find(".skip").hide(),a.$result.velocity({opacity:0},DUR)}}(this)),this.$aboutBtn.on("click",function(a){return function(){return"block"===a.$result_container.css("display")&&a.$result_container.find(".close").trigger("click"),a.$about_container.show().velocity({opacity:1},DUR)}}(this)),this.$about_container.on("click",function(a){return function(b){return $(b.target).hasClass("close")?a.$about_container.velocity({opacity:0},DUR,function(){return a.$about_container.hide()}):void 0}}(this)),$(window).on("keydown",function(a){return function(b){return b.keyCode===ENTER_KEY?a.search(a.$search.val()):void 0}}(this))},b}(d),f=function(){return g||(g=new e),g},b.exports=f},{"../util/eventDispatcher":4,"../util/ticker":7}],10:[function(a,b,c){/*! VelocityJS.org (1.2.2). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(a){function b(a){var b=a.length,c=$.type(a);return"function"===c||$.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}if(!a.jQuery){var $=function(a,b){return new $.fn.init(a,b)};$.isWindow=function(a){return null!=a&&a==a.window},$.type=function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?d[f.call(a)]||"object":typeof a},$.isArray=Array.isArray||function(a){return"array"===$.type(a)},$.isPlainObject=function(a){var b;if(!a||"object"!==$.type(a)||a.nodeType||$.isWindow(a))return!1;try{if(a.constructor&&!e.call(a,"constructor")&&!e.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(b in a);return void 0===b||e.call(a,b)},$.each=function(a,c,d){var e,f=0,g=a.length,h=b(a);if(d){if(h)for(;g>f&&(e=c.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=c.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=c.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=c.call(a[f],f,a[f]),e===!1)break;return a},$.data=function(a,b,d){if(void 0===d){var e=a[$.expando],f=e&&c[e];if(void 0===b)return f;if(f&&b in f)return f[b]}else if(void 0!==b){var e=a[$.expando]||(a[$.expando]=++$.uuid);return c[e]=c[e]||{},c[e][b]=d,d}},$.removeData=function(a,b){var d=a[$.expando],e=d&&c[d];e&&$.each(b,function(a,b){delete e[b]})},$.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"!=typeof g&&"function"!==$.type(g)&&(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&($.isPlainObject(c)||(b=$.isArray(c)))?(b?(b=!1,f=a&&$.isArray(a)?a:[]):f=a&&$.isPlainObject(a)?a:{},g[d]=$.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},$.queue=function(a,c,d){function e(a,c){var d=c||[];return null!=a&&(b(Object(a))?!function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a}(d,"string"==typeof a?[a]:a):[].push.call(d,a)),d}if(a){c=(c||"fx")+"queue";var f=$.data(a,c);return d?(!f||$.isArray(d)?f=$.data(a,c,e(d)):f.push(d),f):f||[]}},$.dequeue=function(a,b){$.each(a.nodeType?[a]:a,function(a,c){b=b||"fx";var d=$.queue(c,b),e=d.shift();"inprogress"===e&&(e=d.shift()),e&&("fx"===b&&d.unshift("inprogress"),e.call(c,function(){$.dequeue(c,b)}))})},$.fn=$.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw new Error("Not a DOM node.")},offset:function(){var b=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:b.top+(a.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:b.left+(a.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function a(){for(var a=this.offsetParent||document;a&&"html"===!a.nodeType.toLowerCase&&"static"===a.style.position;)a=a.offsetParent;return a||document}var b=this[0],a=a.apply(b),c=this.offset(),d=/^(?:body|html)$/i.test(a.nodeName)?{top:0,left:0}:$(a).offset();return c.top-=parseFloat(b.style.marginTop)||0,c.left-=parseFloat(b.style.marginLeft)||0,a.style&&(d.top+=parseFloat(a.style.borderTopWidth)||0,d.left+=parseFloat(a.style.borderLeftWidth)||0),{top:c.top-d.top,left:c.left-d.left}}};var c={};$.expando="velocity"+(new Date).getTime(),$.uuid=0;for(var d={},e=d.hasOwnProperty,f=d.toString,g="Boolean Number String Function Array Date RegExp Object Error".split(" "),h=0;h<g.length;h++)d["[object "+g[h]+"]"]=g[h].toLowerCase();$.fn.init.prototype=$.fn,a.Velocity={Utilities:$}}}(window),function(a){"object"==typeof b&&"object"==typeof b.exports?b.exports=a():"function"==typeof define&&define.amd?define(a):a()}(function(){return function(a,b,c,d){function e(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function f(a){return o.isWrapped(a)?a=[].slice.call(a):o.isNode(a)&&(a=[a]),a}function g(a){var b=$.data(a,"velocity");return null===b?d:b}function h(a){return function(b){return Math.round(b*a)*(1/a)}}function i(a,c,d,e){function f(a,b){return 1-3*b+3*a}function g(a,b){return 3*b-6*a}function h(a){return 3*a}function i(a,b,c){return((f(b,c)*a+g(b,c))*a+h(b))*a}function j(a,b,c){return 3*f(b,c)*a*a+2*g(b,c)*a+h(b)}function k(b,c){for(var e=0;p>e;++e){var f=j(c,a,d);if(0===f)return c;var g=i(c,a,d)-b;c-=g/f}return c}function l(){for(var b=0;t>b;++b)x[b]=i(b*u,a,d)}function m(b,c,e){var f,g,h=0;do g=c+(e-c)/2,f=i(g,a,d)-b,f>0?e=g:c=g;while(Math.abs(f)>r&&++h<s);return g}function n(b){for(var c=0,e=1,f=t-1;e!=f&&x[e]<=b;++e)c+=u;--e;var g=(b-x[e])/(x[e+1]-x[e]),h=c+g*u,i=j(h,a,d);return i>=q?k(b,h):0==i?h:m(b,c,c+u)}function o(){y=!0,(a!=c||d!=e)&&l()}var p=4,q=.001,r=1e-7,s=10,t=11,u=1/(t-1),v="Float32Array"in b;if(4!==arguments.length)return!1;for(var w=0;4>w;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;a=Math.min(a,1),d=Math.min(d,1),a=Math.max(a,0),d=Math.max(d,0);var x=v?new Float32Array(t):new Array(t),y=!1,z=function(b){return y||o(),a===c&&d===e?b:0===b?0:1===b?1:i(n(b),c,e)};z.getControlPoints=function(){return[{x:a,y:c},{x:d,y:e}]};var A="generateBezier("+[a,c,d,e]+")";return z.toString=function(){return A},z}function j(a,b){var c=a;return o.isString(a)?s.Easings[a]||(c=!1):c=o.isArray(a)&&1===a.length?h.apply(null,a):o.isArray(a)&&2===a.length?t.apply(null,a.concat([b])):o.isArray(a)&&4===a.length?i.apply(null,a):!1,c===!1&&(c=s.Easings[s.defaults.easing]?s.defaults.easing:r),c}function k(a){if(a){var b=(new Date).getTime(),c=s.State.calls.length;c>1e4&&(s.State.calls=e(s.State.calls));for(var f=0;c>f;f++)if(s.State.calls[f]){var h=s.State.calls[f],i=h[0],j=h[2],m=h[3],n=!!m,p=null;m||(m=s.State.calls[f][3]=b-16);for(var q=Math.min((b-m)/j.duration,1),r=0,t=i.length;t>r;r++){var v=i[r],x=v.element;if(g(x)){var y=!1;if(j.display!==d&&null!==j.display&&"none"!==j.display){if("flex"===j.display){var z=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];$.each(z,function(a,b){u.setPropertyValue(x,"display",b)})}u.setPropertyValue(x,"display",j.display)}j.visibility!==d&&"hidden"!==j.visibility&&u.setPropertyValue(x,"visibility",j.visibility);for(var A in v)if("element"!==A){var B,C=v[A],D=o.isString(C.easing)?s.Easings[C.easing]:C.easing;if(1===q)B=C.endValue;else{var E=C.endValue-C.startValue;if(B=C.startValue+E*D(q,j,E),!n&&B===C.currentValue)continue}if(C.currentValue=B,"tween"===A)p=B;else{if(u.Hooks.registered[A]){var F=u.Hooks.getRoot(A),G=g(x).rootPropertyValueCache[F];G&&(C.rootPropertyValue=G)}var H=u.setPropertyValue(x,A,C.currentValue+(0===parseFloat(B)?"":C.unitType),C.rootPropertyValue,C.scrollData);u.Hooks.registered[A]&&(g(x).rootPropertyValueCache[F]=u.Normalizations.registered[F]?u.Normalizations.registered[F]("extract",null,H[1]):H[1]),"transform"===H[0]&&(y=!0)}}j.mobileHA&&g(x).transformCache.translate3d===d&&(g(x).transformCache.translate3d="(0px, 0px, 0px)",y=!0),y&&u.flushTransformCache(x)}}j.display!==d&&"none"!==j.display&&(s.State.calls[f][2].display=!1),j.visibility!==d&&"hidden"!==j.visibility&&(s.State.calls[f][2].visibility=!1),j.progress&&j.progress.call(h[1],h[1],q,Math.max(0,m+j.duration-b),m,p),1===q&&l(f)}}s.State.isTicking&&w(k)}function l(a,b){if(!s.State.calls[a])return!1;for(var c=s.State.calls[a][0],e=s.State.calls[a][1],f=s.State.calls[a][2],h=s.State.calls[a][4],i=!1,j=0,k=c.length;k>j;j++){var l=c[j].element;if(b||f.loop||("none"===f.display&&u.setPropertyValue(l,"display",f.display),"hidden"===f.visibility&&u.setPropertyValue(l,"visibility",f.visibility)),f.loop!==!0&&($.queue(l)[1]===d||!/\.velocityQueueEntryFlag/i.test($.queue(l)[1]))&&g(l)){g(l).isAnimating=!1,g(l).rootPropertyValueCache={};var m=!1;$.each(u.Lists.transforms3D,function(a,b){var c=/^scale/.test(b)?1:0,e=g(l).transformCache[b];g(l).transformCache[b]!==d&&new RegExp("^\\("+c+"[^.]").test(e)&&(m=!0,delete g(l).transformCache[b])}),f.mobileHA&&(m=!0,delete g(l).transformCache.translate3d),m&&u.flushTransformCache(l),u.Values.removeClass(l,"velocity-animating")}if(!b&&f.complete&&!f.loop&&j===k-1)try{f.complete.call(e,e)}catch(n){setTimeout(function(){throw n},1)}h&&f.loop!==!0&&h(e),g(l)&&f.loop===!0&&!b&&($.each(g(l).tweensContainer,function(a,b){/^rotate/.test(a)&&360===parseFloat(b.endValue)&&(b.endValue=0,b.startValue=360),/^backgroundPosition/.test(a)&&100===parseFloat(b.endValue)&&"%"===b.unitType&&(b.endValue=0,b.startValue=100)}),s(l,"reverse",{loop:!0,delay:f.delay})),f.queue!==!1&&$.dequeue(l,f.queue)}s.State.calls[a]=!1;for(var o=0,p=s.State.calls.length;p>o;o++)if(s.State.calls[o]!==!1){i=!0;break}i===!1&&(s.State.isTicking=!1,delete s.State.calls,s.State.calls=[])}var $,m=function(){if(c.documentMode)return c.documentMode;for(var a=7;a>4;a--){var b=c.createElement("div");if(b.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->",b.getElementsByTagName("span").length)return b=null,a}return d}(),n=function(){var a=0;return b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||function(b){var c,d=(new Date).getTime();return c=Math.max(0,16-(d-a)),a=d+c,setTimeout(function(){b(d+c)},c)}}(),o={isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==d&&(0===a.length||"object"==typeof a[0]&&a[0].nodeType>0)},isWrapped:function(a){return a&&(a.jquery||b.Zepto&&b.Zepto.zepto.isZ(a))},isSVG:function(a){return b.SVGElement&&a instanceof b.SVGElement},isEmptyObject:function(a){for(var b in a)return!1;return!0}},p=!1;if(a.fn&&a.fn.jquery?($=a,p=!0):$=b.Velocity.Utilities,8>=m&&!p)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=m)return void(jQuery.fn.velocity=jQuery.fn.animate);var q=400,r="swing",s={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:b.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:c.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:$,Redirects:{},Easings:{},Promise:b.Promise,defaults:{queue:"",duration:q,easing:r,begin:d,complete:d,progress:d,display:d,visibility:d,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(a){$.data(a,"velocity",{isSVG:o.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};b.pageYOffset!==d?(s.State.scrollAnchor=b,s.State.scrollPropertyLeft="pageXOffset",s.State.scrollPropertyTop="pageYOffset"):(s.State.scrollAnchor=c.documentElement||c.body.parentNode||c.body,s.State.scrollPropertyLeft="scrollLeft",s.State.scrollPropertyTop="scrollTop");var t=function(){function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){var e={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:e.v,dv:a(e)}}function c(c,d){var e={dx:c.v,dv:a(c)},f=b(c,.5*d,e),g=b(c,.5*d,f),h=b(c,d,g),i=1/6*(e.dx+2*(f.dx+g.dx)+h.dx),j=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);return c.x=c.x+i*d,c.v=c.v+j*d,c}return function d(a,b,e){var f,g,h,i={x:-1,v:0,tension:null,friction:null},j=[0],k=0,l=1e-4,m=.016;for(a=parseFloat(a)||500,b=parseFloat(b)||20,e=e||null,i.tension=a,i.friction=b,f=null!==e,f?(k=d(a,b),g=k/e*m):g=m;h=c(h||i,g),j.push(1+h.x),k+=16,Math.abs(h.x)>l&&Math.abs(h.v)>l;);return f?function(a){return j[a*(j.length-1)|0]}:k}}();s.Easings={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}},$.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,b){s.Easings[b[0]]=i.apply(null,b[1])});var u=s.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<u.Lists.colors.length;a++){var b="color"===u.Lists.colors[a]?"0 0 0 1":"255 255 255 1";u.Hooks.templates[u.Lists.colors[a]]=["Red Green Blue Alpha",b]}var c,d,e;if(m)for(c in u.Hooks.templates){d=u.Hooks.templates[c],e=d[0].split(" ");var f=d[1].match(u.RegEx.valueSplit);"Color"===e[0]&&(e.push(e.shift()),f.push(f.shift()),u.Hooks.templates[c]=[e.join(" "),f.join(" ")])}for(c in u.Hooks.templates){d=u.Hooks.templates[c],e=d[0].split(" ");for(var a in e){var g=c+e[a],h=a;u.Hooks.registered[g]=[c,h]}}},getRoot:function(a){var b=u.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(a,b){return u.RegEx.valueUnwrap.test(b)&&(b=b.match(u.RegEx.valueUnwrap)[1]),u.Values.isCSSNullValue(b)&&(b=u.Hooks.templates[a][1]),b},extractValue:function(a,b){var c=u.Hooks.registered[a];if(c){var d=c[0],e=c[1];return b=u.Hooks.cleanRootPropertyValue(d,b),b.toString().match(u.RegEx.valueSplit)[e]}return b},injectValue:function(a,b,c){var d=u.Hooks.registered[a];if(d){var e,f,g=d[0],h=d[1];return c=u.Hooks.cleanRootPropertyValue(g,c),e=c.toString().match(u.RegEx.valueSplit),e[h]=b,f=e.join(" ")}return c}},Normalizations:{registered:{clip:function(a,b,c){switch(a){case"name":return"clip";case"extract":var d;return u.RegEx.wrappedValueAlreadyExtracted.test(c)?d=c:(d=c.toString().match(u.RegEx.valueUnwrap),d=d?d[1].replace(/,(\s+)?/g," "):c),d;case"inject":return"rect("+c+")"}},blur:function(a,b,c){switch(a){case"name":return s.State.isFirefox?"filter":"-webkit-filter";case"extract":var d=parseFloat(c);if(!d&&0!==d){var e=c.toString().match(/blur\(([0-9]+[A-z]+)\)/i);d=e?e[1]:0}return d;case"inject":return parseFloat(c)?"blur("+c+")":"none"}},opacity:function(a,b,c){if(8>=m)switch(a){case"name":return"filter";case"extract":var d=c.toString().match(/alpha\(opacity=(.*)\)/i);return c=d?d[1]/100:1;case"inject":return b.style.zoom=1,parseFloat(c)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(c),10)+")"}else switch(a){case"name":return"opacity";case"extract":return c;case"inject":return c}}},register:function(){9>=m||s.State.isGingerbread||(u.Lists.transformsBase=u.Lists.transformsBase.concat(u.Lists.transforms3D));for(var a=0;a<u.Lists.transformsBase.length;a++)!function(){var b=u.Lists.transformsBase[a];u.Normalizations.registered[b]=function(a,c,e){switch(a){case"name":return"transform";case"extract":return g(c)===d||g(c).transformCache[b]===d?/^scale/i.test(b)?1:0:g(c).transformCache[b].replace(/[()]/g,"");case"inject":var f=!1;switch(b.substr(0,b.length-1)){case"translate":f=!/(%|px|em|rem|vw|vh|\d)$/i.test(e);break;case"scal":case"scale":s.State.isAndroid&&g(c).transformCache[b]===d&&1>e&&(e=1),f=!/(\d)$/i.test(e);break;case"skew":f=!/(deg|\d)$/i.test(e);break;case"rotate":f=!/(deg|\d)$/i.test(e)}return f||(g(c).transformCache[b]="("+e+")"),g(c).transformCache[b]}}}();for(var a=0;a<u.Lists.colors.length;a++)!function(){var b=u.Lists.colors[a];u.Normalizations.registered[b]=function(a,c,e){switch(a){case"name":return b;case"extract":var f;if(u.RegEx.wrappedValueAlreadyExtracted.test(e))f=e;else{var g,h={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(e)?g=h[e]!==d?h[e]:h.black:u.RegEx.isHex.test(e)?g="rgb("+u.Values.hexToRgb(e).join(" ")+")":/^rgba?\(/i.test(e)||(g=h.black),f=(g||e).toString().match(u.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=m||3!==f.split(" ").length||(f+=" 1"),f;case"inject":return 8>=m?4===e.split(" ").length&&(e=e.split(/\s+/).slice(0,3).join(" ")):3===e.split(" ").length&&(e+=" 1"),(8>=m?"rgb":"rgba")+"("+e.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(m||s.State.isAndroid&&!s.State.isChrome)&&(b+="|transform"),new RegExp("^("+b+")$","i").test(a)},prefixCheck:function(a){if(s.State.prefixMatches[a])return[s.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],c=0,d=b.length;d>c;c++){var e;if(e=0===c?a:b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()}),o.isString(s.State.prefixElement.style[e]))return s.State.prefixMatches[a]=e,[e,!0]}return[a,!1]}},Values:{hexToRgb:function(a){var b,c=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return a=a.replace(c,function(a,b,c,d){return b+b+c+c+d+d}),b=d.exec(a),b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:[0,0,0]},isCSSNullValue:function(a){return 0==a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(a){var b=a&&a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(b)?"inline":/^(li)$/i.test(b)?"list-item":/^(tr)$/i.test(b)?"table-row":/^(table)$/i.test(b)?"table":/^(tbody)$/i.test(b)?"table-row-group":"block"},addClass:function(a,b){a.classList?a.classList.add(b):a.className+=(a.className.length?" ":"")+b},removeClass:function(a,b){a.classList?a.classList.remove(b):a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(a,c,e,f){function h(a,c){function e(){j&&u.setPropertyValue(a,"display","none")}var i=0;if(8>=m)i=$.css(a,c);else{var j=!1;if(/^(width|height)$/.test(c)&&0===u.getPropertyValue(a,"display")&&(j=!0,u.setPropertyValue(a,"display",u.Values.getDisplayType(a))),!f){if("height"===c&&"border-box"!==u.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var k=a.offsetHeight-(parseFloat(u.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(u.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(u.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(u.getPropertyValue(a,"paddingBottom"))||0);return e(),k}if("width"===c&&"border-box"!==u.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var l=a.offsetWidth-(parseFloat(u.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(u.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(u.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(u.getPropertyValue(a,"paddingRight"))||0);return e(),l}}var n;n=g(a)===d?b.getComputedStyle(a,null):g(a).computedStyle?g(a).computedStyle:g(a).computedStyle=b.getComputedStyle(a,null),"borderColor"===c&&(c="borderTopColor"),i=9===m&&"filter"===c?n.getPropertyValue(c):n[c],(""===i||null===i)&&(i=a.style[c]),e()}if("auto"===i&&/^(top|right|bottom|left)$/i.test(c)){var o=h(a,"position");("fixed"===o||"absolute"===o&&/top|left/i.test(c))&&(i=$(a).position()[c]+"px")}return i}var i;if(u.Hooks.registered[c]){var j=c,k=u.Hooks.getRoot(j);e===d&&(e=u.getPropertyValue(a,u.Names.prefixCheck(k)[0])),u.Normalizations.registered[k]&&(e=u.Normalizations.registered[k]("extract",a,e)),i=u.Hooks.extractValue(j,e)}else if(u.Normalizations.registered[c]){var l,n;l=u.Normalizations.registered[c]("name",a),"transform"!==l&&(n=h(a,u.Names.prefixCheck(l)[0]),u.Values.isCSSNullValue(n)&&u.Hooks.templates[c]&&(n=u.Hooks.templates[c][1])),i=u.Normalizations.registered[c]("extract",a,n)}if(!/^[\d-]/.test(i))if(g(a)&&g(a).isSVG&&u.Names.SVGAttribute(c))if(/^(height|width)$/i.test(c))try{i=a.getBBox()[c]}catch(o){i=0}else i=a.getAttribute(c);else i=h(a,u.Names.prefixCheck(c)[0]);return u.Values.isCSSNullValue(i)&&(i=0),s.debug>=2&&console.log("Get "+c+": "+i),i},setPropertyValue:function(a,c,d,e,f){var h=c;if("scroll"===c)f.container?f.container["scroll"+f.direction]=d:"Left"===f.direction?b.scrollTo(d,f.alternateValue):b.scrollTo(f.alternateValue,d);else if(u.Normalizations.registered[c]&&"transform"===u.Normalizations.registered[c]("name",a))u.Normalizations.registered[c]("inject",a,d),h="transform",d=g(a).transformCache[c];else{if(u.Hooks.registered[c]){var i=c,j=u.Hooks.getRoot(c);e=e||u.getPropertyValue(a,j),d=u.Hooks.injectValue(i,d,e),c=j}if(u.Normalizations.registered[c]&&(d=u.Normalizations.registered[c]("inject",a,d),c=u.Normalizations.registered[c]("name",a)),h=u.Names.prefixCheck(c)[0],8>=m)try{a.style[h]=d}catch(k){s.debug&&console.log("Browser does not support ["+d+"] for ["+h+"]")}else g(a)&&g(a).isSVG&&u.Names.SVGAttribute(c)?a.setAttribute(c,d):a.style[h]=d;s.debug>=2&&console.log("Set "+c+" ("+h+"): "+d)}return[h,d]},flushTransformCache:function(a){function b(b){return parseFloat(u.getPropertyValue(a,b))}var c="";if((m||s.State.isAndroid&&!s.State.isChrome)&&g(a).isSVG){var d={translate:[b("translateX"),b("translateY")],skewX:[b("skewX")],skewY:[b("skewY")],scale:1!==b("scale")?[b("scale"),b("scale")]:[b("scaleX"),b("scaleY")],rotate:[b("rotateZ"),0,0]};$.each(g(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),d[a]&&(c+=a+"("+d[a].join(" ")+") ",delete d[a])})}else{var e,f;$.each(g(a).transformCache,function(b){return e=g(a).transformCache[b],"transformPerspective"===b?(f=e,!0):(9===m&&"rotateZ"===b&&(b="rotate"),void(c+=b+e+" "))}),f&&(c="perspective"+f+" "+c)}u.setPropertyValue(a,"transform",c)}};u.Hooks.register(),u.Normalizations.register(),s.hook=function(a,b,c){var e=d;return a=f(a),$.each(a,function(a,f){if(g(f)===d&&s.init(f),c===d)e===d&&(e=s.CSS.getPropertyValue(f,b));else{var h=s.CSS.setPropertyValue(f,b,c);"transform"===h[0]&&s.CSS.flushTransformCache(f),e=h}}),e};var v=function(){function a(){return h?A.promise||null:i}function e(){function a(a){function l(a,b){var c=d,e=d,g=d;return o.isArray(a)?(c=a[0],!o.isArray(a[1])&&/^[\d-]/.test(a[1])||o.isFunction(a[1])||u.RegEx.isHex.test(a[1])?g=a[1]:(o.isString(a[1])&&!u.RegEx.isHex.test(a[1])||o.isArray(a[1]))&&(e=b?a[1]:j(a[1],h.duration),a[2]!==d&&(g=a[2]))):c=a,b||(e=e||h.easing),o.isFunction(c)&&(c=c.call(f,x,w)),o.isFunction(g)&&(g=g.call(f,x,w)),[c||0,e,g]}function m(a,b){var c,d;return d=(b||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(a){return c=a,""}),c||(c=u.Values.getUnitType(a)),[d,c]}function q(){var a={myParent:f.parentNode||c.body,position:u.getPropertyValue(f,"position"),fontSize:u.getPropertyValue(f,"fontSize")},d=a.position===H.lastPosition&&a.myParent===H.lastParent,e=a.fontSize===H.lastFontSize;H.lastParent=a.myParent,H.lastPosition=a.position,H.lastFontSize=a.fontSize;var h=100,i={};if(e&&d)i.emToPx=H.lastEmToPx,i.percentToPxWidth=H.lastPercentToPxWidth,i.percentToPxHeight=H.lastPercentToPxHeight;else{var j=g(f).isSVG?c.createElementNS("http://www.w3.org/2000/svg","rect"):c.createElement("div");s.init(j),a.myParent.appendChild(j),$.each(["overflow","overflowX","overflowY"],function(a,b){s.CSS.setPropertyValue(j,b,"hidden")}),s.CSS.setPropertyValue(j,"position",a.position),s.CSS.setPropertyValue(j,"fontSize",a.fontSize),s.CSS.setPropertyValue(j,"boxSizing","content-box"),$.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(a,b){s.CSS.setPropertyValue(j,b,h+"%")}),s.CSS.setPropertyValue(j,"paddingLeft",h+"em"),i.percentToPxWidth=H.lastPercentToPxWidth=(parseFloat(u.getPropertyValue(j,"width",null,!0))||1)/h,i.percentToPxHeight=H.lastPercentToPxHeight=(parseFloat(u.getPropertyValue(j,"height",null,!0))||1)/h,i.emToPx=H.lastEmToPx=(parseFloat(u.getPropertyValue(j,"paddingLeft"))||1)/h,a.myParent.removeChild(j)}return null===H.remToPx&&(H.remToPx=parseFloat(u.getPropertyValue(c.body,"fontSize"))||16),null===H.vwToPx&&(H.vwToPx=parseFloat(b.innerWidth)/100,H.vhToPx=parseFloat(b.innerHeight)/100),i.remToPx=H.remToPx,i.vwToPx=H.vwToPx,i.vhToPx=H.vhToPx,s.debug>=1&&console.log("Unit ratios: "+JSON.stringify(i),f),i}if(h.begin&&0===x)try{h.begin.call(n,n)}catch(t){setTimeout(function(){throw t},1)}if("scroll"===B){var v,y,z,C=/^x$/i.test(h.axis)?"Left":"Top",D=parseFloat(h.offset)||0;h.container?o.isWrapped(h.container)||o.isNode(h.container)?(h.container=h.container[0]||h.container,v=h.container["scroll"+C],z=v+$(f).position()[C.toLowerCase()]+D):h.container=null:(v=s.State.scrollAnchor[s.State["scrollProperty"+C]],y=s.State.scrollAnchor[s.State["scrollProperty"+("Left"===C?"Top":"Left")]],z=$(f).offset()[C.toLowerCase()]+D),i={scroll:{rootPropertyValue:!1,startValue:v,currentValue:v,endValue:z,unitType:"",easing:h.easing,scrollData:{container:h.container,direction:C,alternateValue:y}},element:f},s.debug&&console.log("tweensContainer (scroll): ",i.scroll,f)}else if("reverse"===B){if(!g(f).tweensContainer)return void $.dequeue(f,h.queue);"none"===g(f).opts.display&&(g(f).opts.display="auto"),"hidden"===g(f).opts.visibility&&(g(f).opts.visibility="visible"),g(f).opts.loop=!1,g(f).opts.begin=null,g(f).opts.complete=null,r.easing||delete h.easing,r.duration||delete h.duration,h=$.extend({},g(f).opts,h);var E=$.extend(!0,{},g(f).tweensContainer);for(var F in E)if("element"!==F){var G=E[F].startValue;E[F].startValue=E[F].currentValue=E[F].endValue,E[F].endValue=G,o.isEmptyObject(r)||(E[F].easing=h.easing),s.debug&&console.log("reverse tweensContainer ("+F+"): "+JSON.stringify(E[F]),f)}i=E}else if("start"===B){var E;g(f).tweensContainer&&g(f).isAnimating===!0&&(E=g(f).tweensContainer),$.each(p,function(a,b){if(RegExp("^"+u.Lists.colors.join("$|^")+"$").test(a)){var c=l(b,!0),e=c[0],f=c[1],g=c[2];if(u.RegEx.isHex.test(e)){for(var h=["Red","Green","Blue"],i=u.Values.hexToRgb(e),j=g?u.Values.hexToRgb(g):d,k=0;k<h.length;k++){var m=[i[k]];f&&m.push(f),j!==d&&m.push(j[k]),p[a+h[k]]=m}delete p[a]}}});for(var J in p){var K=l(p[J]),L=K[0],M=K[1],N=K[2];J=u.Names.camelCase(J);var O=u.Hooks.getRoot(J),P=!1;if(g(f).isSVG||"tween"===O||u.Names.prefixCheck(O)[1]!==!1||u.Normalizations.registered[O]!==d){(h.display!==d&&null!==h.display&&"none"!==h.display||h.visibility!==d&&"hidden"!==h.visibility)&&/opacity|filter/.test(J)&&!N&&0!==L&&(N=0),h._cacheValues&&E&&E[J]?(N===d&&(N=E[J].endValue+E[J].unitType),P=g(f).rootPropertyValueCache[O]):u.Hooks.registered[J]?N===d?(P=u.getPropertyValue(f,O),N=u.getPropertyValue(f,J,P)):P=u.Hooks.templates[O][1]:N===d&&(N=u.getPropertyValue(f,J));var Q,R,S,T=!1;if(Q=m(J,N),N=Q[0],S=Q[1],Q=m(J,L),L=Q[0].replace(/^([+-\/*])=/,function(a,b){return T=b,""}),R=Q[1],N=parseFloat(N)||0,L=parseFloat(L)||0,"%"===R&&(/^(fontSize|lineHeight)$/.test(J)?(L/=100,R="em"):/^scale/.test(J)?(L/=100,R=""):/(Red|Green|Blue)$/i.test(J)&&(L=L/100*255,R="")),/[\/*]/.test(T))R=S;else if(S!==R&&0!==N)if(0===L)R=S;else{e=e||q();var U=/margin|padding|left|right|width|text|word|letter/i.test(J)||/X$/.test(J)||"x"===J?"x":"y";switch(S){case"%":N*="x"===U?e.percentToPxWidth:e.percentToPxHeight;break;case"px":break;default:N*=e[S+"ToPx"]}switch(R){case"%":N*=1/("x"===U?e.percentToPxWidth:e.percentToPxHeight);break;case"px":break;default:N*=1/e[R+"ToPx"]}}switch(T){case"+":L=N+L;break;case"-":L=N-L;break;case"*":L=N*L;break;case"/":L=N/L}i[J]={rootPropertyValue:P,startValue:N,currentValue:N,endValue:L,unitType:R,easing:M},s.debug&&console.log("tweensContainer ("+J+"): "+JSON.stringify(i[J]),f)}else s.debug&&console.log("Skipping ["+O+"] due to a lack of browser support.")}i.element=f}i.element&&(u.Values.addClass(f,"velocity-animating"),I.push(i),""===h.queue&&(g(f).tweensContainer=i,g(f).opts=h),g(f).isAnimating=!0,x===w-1?(s.State.calls.push([I,n,h,null,A.resolver]),s.State.isTicking===!1&&(s.State.isTicking=!0,k())):x++)}var e,f=this,h=$.extend({},s.defaults,r),i={};switch(g(f)===d&&s.init(f),parseFloat(h.delay)&&h.queue!==!1&&$.queue(f,h.queue,function(a){s.velocityQueueEntryFlag=!0,g(f).delayTimer={setTimeout:setTimeout(a,parseFloat(h.delay)),next:a}}),h.duration.toString().toLowerCase()){case"fast":h.duration=200;break;case"normal":h.duration=q;break;case"slow":h.duration=600;break;default:h.duration=parseFloat(h.duration)||1}s.mock!==!1&&(s.mock===!0?h.duration=h.delay=1:(h.duration*=parseFloat(s.mock)||1,h.delay*=parseFloat(s.mock)||1)),h.easing=j(h.easing,h.duration),h.begin&&!o.isFunction(h.begin)&&(h.begin=null),h.progress&&!o.isFunction(h.progress)&&(h.progress=null),h.complete&&!o.isFunction(h.complete)&&(h.complete=null),h.display!==d&&null!==h.display&&(h.display=h.display.toString().toLowerCase(),"auto"===h.display&&(h.display=s.CSS.Values.getDisplayType(f))),h.visibility!==d&&null!==h.visibility&&(h.visibility=h.visibility.toString().toLowerCase()),h.mobileHA=h.mobileHA&&s.State.isMobile&&!s.State.isGingerbread,h.queue===!1?h.delay?setTimeout(a,h.delay):a():$.queue(f,h.queue,function(b,c){return c===!0?(A.promise&&A.resolver(n),!0):(s.velocityQueueEntryFlag=!0,void a(b))}),""!==h.queue&&"fx"!==h.queue||"inprogress"===$.queue(f)[0]||$.dequeue(f)}var h,i,m,n,p,r,t=arguments[0]&&(arguments[0].p||$.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||o.isString(arguments[0].properties));if(o.isWrapped(this)?(h=!1,m=0,n=this,i=this):(h=!0,m=1,n=t?arguments[0].elements||arguments[0].e:arguments[0]),n=f(n)){t?(p=arguments[0].properties||arguments[0].p,r=arguments[0].options||arguments[0].o):(p=arguments[m],r=arguments[m+1]);var w=n.length,x=0;if(!/^(stop|finish)$/i.test(p)&&!$.isPlainObject(r)){var y=m+1;r={};for(var z=y;z<arguments.length;z++)o.isArray(arguments[z])||!/^(fast|normal|slow)$/i.test(arguments[z])&&!/^\d/.test(arguments[z])?o.isString(arguments[z])||o.isArray(arguments[z])?r.easing=arguments[z]:o.isFunction(arguments[z])&&(r.complete=arguments[z]):r.duration=arguments[z]}var A={promise:null,resolver:null,rejecter:null};h&&s.Promise&&(A.promise=new s.Promise(function(a,b){A.resolver=a,A.rejecter=b}));var B;switch(p){case"scroll":B="scroll";break;case"reverse":B="reverse";break;case"finish":case"stop":$.each(n,function(a,b){g(b)&&g(b).delayTimer&&(clearTimeout(g(b).delayTimer.setTimeout),g(b).delayTimer.next&&g(b).delayTimer.next(),delete g(b).delayTimer)});var C=[];return $.each(s.State.calls,function(a,b){b&&$.each(b[1],function(c,e){var f=r===d?"":r;return f===!0||b[2].queue===f||r===d&&b[2].queue===!1?void $.each(n,function(c,d){d===e&&((r===!0||o.isString(r))&&($.each($.queue(d,o.isString(r)?r:""),function(a,b){o.isFunction(b)&&b(null,!0)}),$.queue(d,o.isString(r)?r:"",[])),"stop"===p?(g(d)&&g(d).tweensContainer&&f!==!1&&$.each(g(d).tweensContainer,function(a,b){b.endValue=b.currentValue;
}),C.push(a)):"finish"===p&&(b[2].duration=1))}):!0})}),"stop"===p&&($.each(C,function(a,b){l(b,!0)}),A.promise&&A.resolver(n)),a();default:if(!$.isPlainObject(p)||o.isEmptyObject(p)){if(o.isString(p)&&s.Redirects[p]){var D=$.extend({},r),E=D.duration,F=D.delay||0;return D.backwards===!0&&(n=$.extend(!0,[],n).reverse()),$.each(n,function(a,b){parseFloat(D.stagger)?D.delay=F+parseFloat(D.stagger)*a:o.isFunction(D.stagger)&&(D.delay=F+D.stagger.call(b,a,w)),D.drag&&(D.duration=parseFloat(E)||(/^(callout|transition)/.test(p)?1e3:q),D.duration=Math.max(D.duration*(D.backwards?1-a/w:(a+1)/w),.75*D.duration,200)),s.Redirects[p].call(b,b,D||{},a,w,n,A.promise?A:d)}),a()}var G="Velocity: First argument ("+p+") was not a property map, a known action, or a registered redirect. Aborting.";return A.promise?A.rejecter(new Error(G)):console.log(G),a()}B="start"}var H={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},I=[];$.each(n,function(a,b){o.isNode(b)&&e.call(b)});var J,D=$.extend({},s.defaults,r);if(D.loop=parseInt(D.loop),J=2*D.loop-1,D.loop)for(var K=0;J>K;K++){var L={delay:D.delay,progress:D.progress};K===J-1&&(L.display=D.display,L.visibility=D.visibility,L.complete=D.complete),v(n,"reverse",L)}return a()}};s=$.extend(v,s),s.animate=v;var w=b.requestAnimationFrame||n;return s.State.isMobile||c.hidden===d||c.addEventListener("visibilitychange",function(){c.hidden?(w=function(a){return setTimeout(function(){a(!0)},16)},k()):w=b.requestAnimationFrame||n}),a.Velocity=s,a!==b&&(a.fn.velocity=v,a.fn.velocity.defaults=s.defaults),$.each(["Down","Up"],function(a,b){s.Redirects["slide"+b]=function(a,c,e,f,g,h){var i=$.extend({},c),j=i.begin,k=i.complete,l={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},m={};i.display===d&&(i.display="Down"===b?"inline"===s.CSS.Values.getDisplayType(a)?"inline-block":"block":"none"),i.begin=function(){j&&j.call(g,g);for(var c in l){m[c]=a.style[c];var d=s.CSS.getPropertyValue(a,c);l[c]="Down"===b?[d,0]:[0,d]}m.overflow=a.style.overflow,a.style.overflow="hidden"},i.complete=function(){for(var b in m)a.style[b]=m[b];k&&k.call(g,g),h&&h.resolver(g)},s(a,l,i)}}),$.each(["In","Out"],function(a,b){s.Redirects["fade"+b]=function(a,c,e,f,g,h){var i=$.extend({},c),j={opacity:"In"===b?1:0},k=i.complete;i.complete=e!==f-1?i.begin=null:function(){k&&k.call(g,g),h&&h.resolver(g)},i.display===d&&(i.display="In"===b?"auto":"none"),s(this,j,i)}}),s}(window.jQuery||window.Zepto||window,window,document)})},{}]},{},[2]);